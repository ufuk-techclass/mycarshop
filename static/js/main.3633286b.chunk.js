(this.webpackJsonpmycarshop=this.webpackJsonpmycarshop||[]).push([[0],{54:function(e,a,n){e.exports=n(65)},59:function(e,a,n){},60:function(e,a,n){},65:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(9),o=n.n(l),c=(n(59),n(60),n(14)),i=n(42),u=(n(64),n(103)),m=n(10),d=n(30),s=n(102),f=n(105),h=n(99),E=n(98),b=n(97);function g(e){var a=r.a.useState(!1),n=Object(c.a)(a,2),t=n[0],l=n[1],o=r.a.useState({brand:"",model:"",color:"",fuel:"",year:"",price:""}),i=Object(c.a)(o,2),g=i[0],p=i[1],C=function(){l(!1)},v=function(e){p(Object(d.a)({},g,Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(u.a,{style:{margin:10},variant:"outlined",color:"primary",onClick:function(){l(!0)}},"Add Car"),r.a.createElement(f.a,{open:t,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(b.a,{id:"form-dialog-title"},"New Car"),r.a.createElement(E.a,null,r.a.createElement(s.a,{autoFocus:!0,margin:"dense",name:"brand",value:g.brand,onChange:function(e){return v(e)},label:"Brand",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"model",value:g.model,onChange:function(e){return v(e)},label:"Model",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"color",value:g.color,onChange:function(e){return v(e)},label:"Color",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"year",value:g.year,onChange:function(e){return v(e)},label:"Year",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"fuel",value:g.fuel,onChange:function(e){return v(e)},label:"Fuel",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"price",value:g.price,onChange:function(e){return v(e)},label:"Price",fullWidth:!0})),r.a.createElement(h.a,null,r.a.createElement(u.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(u.a,{onClick:function(){e.saveCar(g),C()},color:"primary"},"SAVE"))))}function p(e){var a=r.a.useState(!1),n=Object(c.a)(a,2),t=n[0],l=n[1],o=r.a.useState({brand:"",model:"",color:"",fuel:"",year:"",price:""}),i=Object(c.a)(o,2),g=i[0],p=i[1],C=function(){l(!1)},v=function(e){p(Object(d.a)({},g,Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(u.a,{variant:"outlined",color:"secondary",onClick:function(){console.log("AAAA: ",e.car),p({brand:e.car.brand,model:e.car.model,color:e.car.color,fuel:e.car.fuel,year:e.car.year,price:e.car.price}),l(!0)}},"Edit Car"),r.a.createElement(f.a,{open:t,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(b.a,{id:"form-dialog-title"},"Edit Car"),r.a.createElement(E.a,null,r.a.createElement(s.a,{autoFocus:!0,margin:"dense",name:"brand",value:g.brand,onChange:function(e){return v(e)},label:"Brand",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"model",value:g.model,onChange:function(e){return v(e)},label:"Model",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"color",value:g.color,onChange:function(e){return v(e)},label:"Color",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"year",value:g.year,onChange:function(e){return v(e)},label:"Year",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"fuel",value:g.fuel,onChange:function(e){return v(e)},label:"Fuel",fullWidth:!0}),r.a.createElement(s.a,{margin:"dense",name:"price",value:g.price,onChange:function(e){return v(e)},label:"Price",fullWidth:!0})),r.a.createElement(h.a,null,r.a.createElement(u.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(u.a,{onClick:function(){e.updateCar(g,e.car._links.car.href),C()},color:"primary"},"SAVE"))))}function C(){var e=Object(t.useState)([]),a=Object(c.a)(e,2),n=a[0],l=a[1];Object(t.useEffect)((function(){return o()}),[]);var o=function(){fetch("https://carstockrest.herokuapp.com/cars").then((function(e){return e.json()})).then((function(e){return l(e._embedded.cars)}))},m=function(e,a){fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return o()})).catch((function(e){return console.log(e)}))},d=[{Header:"Brand",accessor:"brand"},{Header:"Model",accessor:"model"},{Header:"Color",accessor:"color"},{Header:"Fuel",accessor:"fuel"},{Header:"Year",accessor:"year"},{Header:"Price",accessor:"price"},{sortable:!1,filterable:!1,Cell:function(e){return r.a.createElement(p,{updateCar:m,car:e.original})}},{sortable:!1,filterable:!1,accessor:"_links.self.href",Cell:function(e){return r.a.createElement(u.a,{color:"secondary",size:"small",onClick:function(){return a=e.value,void(window.confirm("Are you sure???")&&fetch(a,{method:"DELETE"}).then((function(e){return o()})).catch((function(e){return console.log(e)})));var a}},"Delete")}}];return r.a.createElement("div",null,r.a.createElement(g,{saveCar:function(e){fetch("https://carstockrest.herokuapp.com/cars",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return o()})).catch((function(e){return console.log(e)}))}}),r.a.createElement(i.a,{filterable:!0,data:n,columns:d}))}var v=n(100),y=n(101),k=n(67);var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v.a,{position:"static"},r.a.createElement(y.a,null,r.a.createElement(k.a,{variant:"h6"},"News"))),r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.3633286b.chunk.js.map